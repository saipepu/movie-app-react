(this["webpackJsonpmovie-app-react"]=this["webpackJsonpmovie-app-react"]||[]).push([[0],{116:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n(29),i=n.n(c),r=(n(116),n(78)),a=n(6),s=n(34),l=(n(62),n(11)),f=n(18),p=n.n(f),x=n(30),j=n(59),d=n.n(j),b="ALLMOVIE",m="SELECTEDMOVIE",u="ADDFAV",h="REMOVEFAV",v=function(e){return function(){var t=Object(x.a)(p.a.mark((function t(n,o){var c,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="movie",console.log(e),void 0!==e?c=e:console.log("yes"),t.next=5,d.a.get("http://www.omdbapi.com/?apikey=89e82956&s=".concat(c));case 5:"False"!==(i=t.sent).data.Response&&n({type:b,payload:i.data}),o().movieList.movies.length>0&&(console.log(o().movieList.movies[0].Search),localStorage.setItem("movieList",JSON.stringify(o().movieList.movies[0].Search)));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(x.a)(p.a.mark((function t(n){var o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.get("http://www.omdbapi.com/?i=".concat(e,"&apikey=89e82956"));case 2:o=t.sent,n({type:m,payload:o.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(x.a)(p.a.mark((function t(n,o){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),n({type:u,payload:e}),console.log(o().favMovie.fav),localStorage.setItem("favList",JSON.stringify(o().favMovie.fav));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},S=n(4),w=n(19),y=n(39),I=n(3),C=function(){var e=Object(l.c)((function(e){return e.movieList.movies})),t=Object(l.b)();Object(a.f)();e=localStorage.getItem("movieList"),e=JSON.parse(e),console.log(e),null===e&&(e=[]);var n=Object(o.useState)([]),c=Object(s.a)(n,2),i=c[0],r=c[1],f=function(e){t(g(e)),console.log(e);var n=localStorage.getItem("favList");""===(n=JSON.parse(n))&&0===n.length||(console.log(n),r(n),console.log(i),console.log("hi"))};Object(o.useEffect)((function(){var e=localStorage.getItem("favList");console.log(e),""!==(e=JSON.parse(e))&&0!==e.length?(console.log(e),e.map((function(e){t(g(e))})),r(e),console.log("hi")):e=[]}),[]),console.log(i);var j=function(e){var n;t((n=e,function(){var e=Object(x.a)(p.a.mark((function e(t,o){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n),t({type:h,payload:n}),console.log(o().favMovie.fav),localStorage.setItem("favList",JSON.stringify(o().favMovie.fav));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),console.log(e);var o=localStorage.getItem("favList");""===(o=JSON.parse(o))&&0===o.length||(console.log(o),r(o),console.log(i),console.log("hi"))};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(S.e,{fontSize:"2em",fontWeight:"700",textColor:"#fff",children:"Movies"}),""===e||void 0===e?Object(I.jsx)("h1",{children:"Loading"}):Object(I.jsx)(S.c,{overflowX:"auto",w:"100vw",h:"700px",align:"center",pl:"50px",children:e.map((function(e,t){return Object(I.jsxs)(S.a,{direction:"column",children:[Object(I.jsx)(S.d,{href:"/movieDetail/".concat(e.imdbID),children:Object(I.jsxs)(S.c,{display:"flex",direction:"column",w:["200px","200px","400px","400px"],h:["300px","300px","500px","500px"],minH:"fit-content",marginRight:"60px",borderRadius:"10px",border:"1px solid gray",overflow:"hidden",bgColor:"#202020",children:[Object(I.jsx)(y.a,{src:e.Poster,objectFit:"cover",minH:["250px","250px","400px","400px"],maxH:["250px","250px","400px","400px"]}),Object(I.jsx)(S.e,{fontSize:["2em","2em","2.5em","2.5em"],textColor:"#ffffff",children:e.Title})]})},t),Object(I.jsx)(w.a,{w:"20%",h:"30%",minH:"50px",m:"20px",fontSize:"0.5em",onClick:function(){return f(e)},children:"Watch Later"})]},t)}))}),Object(I.jsx)(S.b,{}),Object(I.jsxs)(S.a,{textColor:"#fff",children:[Object(I.jsx)(S.e,{fontSize:"2em",fontWeight:"700",textColor:"#fff",children:"Favourites"}),Object(I.jsx)(S.c,{overflowX:"auto",w:"100vw",h:"700px",align:"center",pl:"50px",children:i.map((function(e,t){if(null!==e)return Object(I.jsxs)(S.a,{direction:"column",children:[Object(I.jsx)(S.d,{href:"/movieDetail/".concat(e.imdbID),children:Object(I.jsxs)(S.c,{display:"flex",direction:"column",w:["200px","200px","400px","400px"],h:["300px","300px","500px","500px"],minH:"fit-content",marginRight:"60px",borderRadius:"10px",border:"1px solid gray",overflow:"hidden",bgColor:"#202020",children:[Object(I.jsx)(y.a,{src:e.Poster,objectFit:"cover",minH:["250px","250px","400px","400px"],maxH:["250px","250px","400px","400px"]}),Object(I.jsx)(S.e,{fontSize:["2em","2em","2.5em","2.5em"],textColor:"#ffffff",children:e.Title})]})},t),Object(I.jsxs)(S.a,{direction:"row",width:"100%",justifyContent:"space-between",children:[Object(I.jsx)(w.a,{w:"20%",h:"30%",minH:"50px",m:"20px",fontSize:"0.5em",onClick:function(){return f(e)},textColor:"#000",children:"Add Fav"}),Object(I.jsx)(w.a,{w:"20%",h:"30%",minH:"50px",m:"20px",fontSize:"0.5em",onClick:function(){return j(e)},textColor:"#000",children:"Remove"})]})]},t)}))})]})]})},L=n(23),D=n(51),z=n(33),W=n(45),E=function(){var e=Object(l.b)(),t=Object(a.f)();return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(S.c,{bgColor:"gray",width:"100vw",top:"0",position:"fixed",justifyContent:"space-between",align:"center",p:"10px 30px",zIndex:"99",children:[Object(I.jsx)(S.d,{href:"/",textDecoration:"none",children:Object(I.jsx)(S.e,{fontSize:"2em",fontWeight:"800",align:"center",children:"OMDB"})}),Object(I.jsx)(D.c,{initialValues:{name:"name"},onSubmit:function(n,o){setTimeout((function(){console.log(n.name),localStorage.setItem("movieName",JSON.stringify(n.name)),e(v(n.name)),o.setSubmitting(!1),t.push("/")}),10)},children:function(e){return Object(I.jsxs)(D.b,{children:[Object(I.jsx)(D.a,{name:"name",children:function(e){var t=e.field;return Object(I.jsx)(z.a,{children:Object(I.jsx)(W.a,Object(L.a)(Object(L.a)({},t),{},{id:"name",placeholder:"movie"}))})}}),Object(I.jsx)(w.a,{colorScheme:"teal",isLoading:e.isSubmitting,type:"submit",children:"Search"})]})}})]})})},N=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),n=(t[0],t[1],Object(l.c)((function(e){return e.movieList.movies})));null===n&&(n=[]);var c=Object(l.b)(),i=Object(a.f)();console.log(n);var r="name";Object(o.useEffect)((function(){var e=localStorage.getItem("movieList");e=JSON.parse(e),r=localStorage.getItem("movieName"),r=JSON.parse(r),0!==n.length&&(i.go(0),n[0].Search[0].Title!==e[0].Title&&c(v(r)))}),[n]);return Object(I.jsxs)(S.a,{bgColor:"#141414",children:[Object(I.jsx)(E,{}),Object(I.jsx)(S.a,{paddingTop:["100px","100px","100px","120px"],children:Object(I.jsx)(C,{})})]})},H=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=(t[0],t[1]),c=Object(a.g)(),i=Object(l.b)(),r=Object(l.c)((function(e){return e.selectedMovie})),f=localStorage.getItem("movieList");f=JSON.parse(f);for(var j=[],d=0;d<6;d++)f[d].imdbID!==c.id&&(j[d]=f[d]);var b=function(){var e=Object(x.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),i(O(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){b(c.id)}),[]),Object(o.useEffect)((function(){var e=localStorage.getItem("favList");console.log(e),null!==(e=JSON.parse(e))||0!==e.length?(console.log(e),e.map((function(e){i(g(e))})),n(e),console.log("hi")):e=[]}),[]);return Object(I.jsxs)(S.a,{bgColor:"#141414",children:[Object(I.jsx)(E,{}),""===r[0]||void 0===r[0]?Object(I.jsx)("h1",{children:"Loading"}):r.map((function(e,t){return Object(I.jsxs)(S.c,{position:"relative",paddingTop:["100px","100px","100px","120px"],w:"100vw",display:"flex",justifyContent:"space-between",paddingX:"50px",children:[Object(I.jsxs)(S.a,{maxW:"50vw",display:"flex",flexDirection:"column",justifyContent:"space-around",textColor:"#fff",paddingRight:"30px",children:[Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(S.e,{fontSize:"2.8em",fontWeight:"800",children:[e.Title,Object(I.jsxs)(S.e,{as:"span",fontSize:"18px",fontWeight:"300",ml:"20px",children:["(Rating -",e.Rated,")"]})]}),Object(I.jsx)(S.e,{fontSize:"1.5em",fontWeight:"400",children:e.Genre}),Object(I.jsx)(S.e,{fontSize:"1.5em",fontWeight:"400",children:e.Runtime})]}),Object(I.jsxs)(S.a,{children:[Object(I.jsxs)(S.e,{fontSize:"2em",fontWeight:"700",children:["Plot",Object(I.jsx)(S.e,{fontSize:"0.6em",fontWeight:"400",children:e.Plot})]}),Object(I.jsxs)(S.e,{fontSize:"2em",fontWeight:"700",children:["Writer",Object(I.jsx)(S.e,{fontSize:"0.6em",fontWeight:"300",children:e.Writer})]}),Object(I.jsxs)(S.e,{fontSize:"2em",fontWeight:"700",children:["Awards",Object(I.jsx)(S.e,{fontSize:"0.6em",fontWeight:"300",children:e.Awards})]})]})]}),Object(I.jsx)(S.a,{w:"50vw",h:"85vh",maxW:"50vw",maxH:"90vh",position:"relative",padding:"50px",children:Object(I.jsx)(y.a,{src:e.Poster,w:"100%",h:"100%",objectFit:"cover"})})]},t)})),Object(I.jsx)(S.b,{marginY:"20px",w:"80vw",margin:"auto"}),Object(I.jsx)(S.c,{overflowX:"auto",w:"100vw",h:"700px",align:"center",pl:"50px",children:j.map((function(e,t){return Object(I.jsxs)(S.a,{direction:"column",children:[Object(I.jsx)(S.d,{href:"/movieDetail/".concat(e.imdbID),children:Object(I.jsxs)(S.c,{display:"flex",direction:"column",w:["200px","200px","400px","400px"],h:["300px","300px","500px","500px"],minH:"fit-content",marginRight:"60px",borderRadius:"10px",border:"1px solid gray",overflow:"hidden",bgColor:"#202020",children:[Object(I.jsx)(y.a,{src:e.Poster,objectFit:"cover",minH:["250px","250px","400px","400px"],maxH:["250px","250px","400px","400px"]}),Object(I.jsx)(S.e,{fontSize:["2em","2em","2.5em","2.5em"],textColor:"#ffffff",children:e.Title})]})},t),Object(I.jsx)(w.a,{w:"20%",h:"30%",minH:"50px",m:"20px",fontSize:"0.5em",onClick:function(){return function(e){i(g(e)),console.log(e.imdbID)}(e)},children:"Watch Later"})]})}))})]})},J=function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(r.a,{basename:"/movie-app-react",children:Object(I.jsxs)(a.c,{children:[Object(I.jsx)(a.a,{path:"/",exact:!0,component:N}),Object(I.jsx)(a.a,{path:"/movieDetail/:id",component:H})]})})})},R=n(35),k=n(81),M={movies:[]},F={fav:[]},T=Object(R.b)({movieList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;return console.log(o),n===b?Object(L.a)(Object(L.a)({},e),{},{movies:[o]}):e},selectedMovie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;return n===m?[o]:e},favMovie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.payload;switch(n){case u:console.log(e.fav);var c,i=o;return null!==e.fav[0]?(console.log("here"),c=e.fav.find((function(e){return e.imdbID===i.imdbID}))):e.fav[0]=[],c?(console.log("yes"),console.log(e.fav),Object(L.a)(Object(L.a)({},e),{},{fav:e.fav.map((function(e){return e.imdbID===i.imdbID?i:e}))})):(console.log(i),Object(L.a)(Object(L.a)({},e),{},{fav:[].concat(Object(k.a)(e.fav),[i])}));case h:console.log(o);var r=e.fav.filter((function(e){return e.imdbID!==o.imdbID}));return console.log(r),{fav:r};default:return e}}}),A=T,P=n(80),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.c,_=Object(R.d)(A,V(Object(R.a)(P.a))),X=n(57);i.a.render(Object(I.jsx)(l.a,{store:_,children:Object(I.jsx)(X.a,{children:Object(I.jsx)(J,{})})}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.e5056785.chunk.js.map